(this["webpackJsonpwendyf-ecommerce-front-end"]=this["webpackJsonpwendyf-ecommerce-front-end"]||[]).push([[39],{524:function(e,t,a){"use strict";a.r(t),function(e){var n=a(154),l=a(0),c=a.n(l),r=a(544),m=a.n(r),i=a(155),o=a(715),u=a(699),s=a(713),d=a(540),E=a(539),p=a(70),y=a(69),f=a(43),g=a(37),b=a.n(g),v=a(717),h=a(613),_=function(e){var t=e.authentication,a=e.strings;return console.log(t),c.a.createElement(o.a,{className:"single-my-account mb-20"},c.a.createElement(o.a.Header,{className:"panel-heading"},c.a.createElement(s.a.Toggle,{variant:"link",eventKey:"0"},c.a.createElement("h3",{className:"panel-title"},c.a.createElement("span",null,"1 .")," ",a.edit_account_information," "))),c.a.createElement(s.a.Collapse,{eventKey:"0"},c.a.createElement(o.a.Body,null,c.a.createElement("div",{className:"myaccount-info-wrapper"},c.a.createElement("div",{className:"account-info-wrapper"},c.a.createElement("h4",null,a.account_information," (",t.userid,") "),c.a.createElement("h5",null,a.your_personal_details)),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6 col-md-6"},c.a.createElement("div",{className:"billing-info"},c.a.createElement("label",null,a.lr_username),c.a.createElement("input",{defaultValue:t.username,type:"text"}))),c.a.createElement("div",{className:"col-lg-6 col-md-6"},c.a.createElement("div",{className:"billing-info"},a.lr_email,c.a.createElement("label",null),c.a.createElement("input",{defaultValue:t.useremail,type:"email"}))))),c.a.createElement("div",{className:"myaccount-info-wrapper"},c.a.createElement("div",{className:"account-info-wrapper"},c.a.createElement("h4",null," ",a.change_password," "),c.a.createElement("h5",null,a.your_password," ")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"billing-info"},c.a.createElement("label",null,a.password),c.a.createElement("input",{type:"password"}))),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"billing-info"},c.a.createElement("label",null,a.password_confirm),c.a.createElement("input",{type:"password"})))),c.a.createElement("div",{className:"billing-back-btn"},c.a.createElement("div",{className:"billing-btn"},c.a.createElement("button",{type:"submit"},a.continue)))))))},N=function(t){var a=t.authentication,r=t.strings,m=Object(l.useState)(!0),i=Object(n.a)(m,2),d=i[0],E=i[1],p=Object(l.useState)(!1),y=Object(n.a)(p,2),g=y[0],_=y[1],N=Object(l.useState)(!1),w=Object(n.a)(N,2),j=w[0],O=w[1],S=Object(l.useState)([]),k=Object(n.a)(S,2),B=k[0],C=k[1],I=Object(l.useState)({}),T=Object(n.a)(I,2),A=T[0],P=T[1],K=window.CinetPay,x=h.b.error;return Object(l.useEffect)((function(){K.setConfig({apikey:"8936433616017f33cc7a2b9.78720038",site_id:302789,notify_url:f.a.notify_url_cinetpay}),K.on("error",(function(e){x(r.subs_connection_error+": "+e.code+","+e.message),_(!1)})),K.on("paymentPending",(function(e){})),K.on("signatureCreated",(function(){})),K.on("paymentSuccessfull",(function(e){"undefined"!=typeof e.lastTime&&("00"==e.cpm_result?(h.b.success(r.payment_completed),_(!1),window.location.reload()):(x(r.subs_connection_error+": "+e.cpm_error_message),_(!1)))})),b.a.get("".concat(f.a.server,"/order/user/").concat(a.userid)).then((function(e){C(e.data)})).catch((function(e){O(!0)})).finally((function(e){E(!1)}))}),[]),c.a.createElement(o.a,{className:"single-my-account mb-20"},c.a.createElement(h.a,null),c.a.createElement(o.a.Header,{className:"panel-heading"},c.a.createElement(s.a.Toggle,{variant:"link",eventKey:"2"},c.a.createElement("h3",{className:"panel-title"},c.a.createElement("span",null,"2 .")," ",r.your_orders))),c.a.createElement(s.a.Collapse,{eventKey:"2"},c.a.createElement(o.a.Body,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},d&&c.a.createElement("center",null,c.a.createElement("p",null,r.loading,"...")),j&&c.a.createElement("center",null,c.a.createElement("p",{style:{color:"red"}},r.subs_connection_error,"...")),c.a.createElement(u.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#ID"),c.a.createElement("th",null,r.date_time),c.a.createElement("th",null,r.amount),c.a.createElement("th",null,r.state),c.a.createElement("th",null,r.action))),c.a.createElement("tbody",null,B.map((function(t){var a=0;return t.products.forEach((function(e){console.log(e),a+=(e.productRef.price-e.productRef.salePrice)*e.productVariation[0].sizeStock})),t.amount=a,c.a.createElement("tr",null,c.a.createElement("td",null,r.order,"-",t._id),c.a.createElement("td",null,t.date),c.a.createElement("td",null,t.currency," ",a),c.a.createElement("td",null,t.isPayed?r.state_paid:r.state_not_paid),c.a.createElement("td",null,!t.isPayed&&c.a.createElement(v.a,{variant:"warning",onClick:function(e){g||(_(!0),h.b.info(r.loading),P(t),setTimeout((function(){K.setSignatureData({amount:parseInt(document.getElementById("amount").value),trans_id:document.getElementById("trans_id").value,currency:document.getElementById("currency").value,designation:document.getElementById("designation").value,custom:document.getElementById("cpm_custom").value,cpm_phone_prefixe:"237"}),K.getSignature()}),500))},style:{color:"white"}},r.pay_now),c.a.createElement(v.a,{variant:"dark",onClick:function(a){setTimeout((function(){e.setModalContent(c.a.createElement("div",null,c.a.createElement("h3",null,r.order_information),t._id&&c.a.createElement("div",null,c.a.createElement("strong",null,r.order),c.a.createElement("table",{style:{width:"100%"},className:"table table-bordered"},c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("strong",null,r.ordered_on_the)),c.a.createElement("td",null,t.date.split("T").join(" ").split(".")[0])),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("strong",null,r.amount,":")),c.a.createElement("td",null,t.amount," ",t.currency," ",t.isPayed&&t.paymentStatus&&t.paymentStatus.createdAt?c.a.createElement("span",{style:{color:"green"}},r.paid_on_the," ",t.paymentStatus.createdAt.split("T").join(" ").split(".")[0]):c.a.createElement("span",{style:{color:"red"}},"PAS PAY\xc9")))),c.a.createElement("strong",null,r.product),t.products.map((function(e){return c.a.createElement("table",{style:{width:"100%"},className:"table table-bordered"},c.a.createElement("tr",null,c.a.createElement("td",{rowSpan:"5"},c.a.createElement("img",{src:e.productRef.image[0],height:"150"})),c.a.createElement("td",null,e.productRef.name," (x",e.productVariation[0].sizeStock,")")),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("strong",null,r.color,": "),e.productVariation[0].color)),c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("strong",null,r.size,": "),e.productVariation[0].sizeName)))})))))}),500)},style:{color:"white",marginTop:10}},r.view_more)))}))))),A._id&&c.a.createElement("div",{id:"info_paiement"},c.a.createElement("input",{type:"hidden",id:"amount",value:A.amount.toFixed(2)}),c.a.createElement("input",{type:"hidden",id:"currency",value:"XAF"}),c.a.createElement("input",{type:"hidden",id:"trans_id",value:A._id+"_"+Math.random()}),c.a.createElement("input",{type:"hidden",id:"cpm_custom",value:a.userid+"/"+A._id}),c.a.createElement("input",{type:"hidden",id:"designation",value:r.payment_for_order+" - #"+A._id}))))))},w=function(e){var t=e.authentication,a=e.strings,r=Object(l.useState)(!0),m=Object(n.a)(r,2),i=m[0],d=m[1],E=Object(l.useState)(!1),p=Object(n.a)(E,2),y=(p[0],p[1],Object(l.useState)(!1)),g=Object(n.a)(y,2),v=g[0],_=g[1],N=Object(l.useState)([]),w=Object(n.a)(N,2),j=w[0],O=w[1];h.b.error;return Object(l.useEffect)((function(){b.a.get("".concat(f.a.server,"/order/transactions/").concat(t.userid)).then((function(e){O(e.data)})).catch((function(e){_(!0)})).finally((function(e){d(!1)}))}),[]),c.a.createElement(o.a,{className:"single-my-account mb-20"},c.a.createElement(h.a,null),c.a.createElement(o.a.Header,{className:"panel-heading"},c.a.createElement(s.a.Toggle,{variant:"link",eventKey:"2"},c.a.createElement("h3",{className:"panel-title"},c.a.createElement("span",null,"3 .")," ",a.your_transactions))),c.a.createElement(s.a.Collapse,{eventKey:"2"},c.a.createElement(o.a.Body,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},i&&c.a.createElement("center",null,c.a.createElement("p",null,a.loading,"...")),v&&c.a.createElement("center",null,c.a.createElement("p",{style:{color:"red"}},a.subs_connection_error,"...")),c.a.createElement("div",{style:{display:"flex",marginBottom:10}},c.a.createElement("div",null,c.a.createElement("center",null,c.a.createElement("h1",{style:{margin:0}},j.filter((function(e){return e.completed})).length),c.a.createElement("small",null,a.completed))),c.a.createElement("div",{style:{marginLeft:20}},c.a.createElement("center",null,c.a.createElement("h1",{style:{margin:0}},j.filter((function(e){return!e.completed})).length),c.a.createElement("small",null,a.failed)))),c.a.createElement(u.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#ID"),c.a.createElement("th",null,a.order),c.a.createElement("th",null,a.date_time),c.a.createElement("th",null,a.amount),c.a.createElement("th",null,a.state))),c.a.createElement("tbody",null,j.map((function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,e._id),c.a.createElement("td",null,a.order,"-",e.order._id),c.a.createElement("td",null,e.createdAt.split("T").join(" ").split(".")[0]),c.a.createElement("td",null,e.order.currency," ",e.amount),c.a.createElement("td",{style:{color:e.completed?"green":"red",fontWeight:"bolder"}},e.completed?a.completed:a.failed))})))))))))};t.default=Object(p.connect)((function(e){return{authentication:e.authentication}}))(Object(y.multilanguage)((function(e){var t=e.location,a=e.authentication,n=e.strings,r=t.pathname;return c.a.createElement(l.Fragment,null,c.a.createElement(m.a,null,c.a.createElement("title",null,"wendyfy | My Account"),c.a.createElement("meta",{name:"description",content:"Compare page of flone react minimalist eCommerce template."})),c.a.createElement(i.BreadcrumbsItem,{to:"/"},n.my_account),c.a.createElement(i.BreadcrumbsItem,{to:""+r},n.my_account),c.a.createElement(d.a,{headerTop:"visible"},c.a.createElement(E.a,null),c.a.createElement("div",{className:"myaccount-area pb-80 pt-100"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"ml-auto mr-auto col-lg-9"},c.a.createElement("div",{className:"myaccount-wrapper"},c.a.createElement(s.a,{defaultActiveKey:"0"},c.a.createElement(_,{authentication:a,strings:n}),c.a.createElement(N,{strings:n,authentication:a}),c.a.createElement(w,{strings:n,authentication:a})))))))))})))}.call(this,a(72))},539:function(e,t,a){"use strict";var n=a(0),l=a.n(n),c=a(114),r=a(155);t.a=function(){return l.a.createElement("div",{className:"breadcrumb-area pt-35 pb-35 bg-gray-3"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"breadcrumb-content text-center"},l.a.createElement(r.Breadcrumbs,{separator:l.a.createElement("span",null,"/"),item:c.c,finalItem:"span"}))))}}}]);
//# sourceMappingURL=39.f6bdfb2b.chunk.js.map